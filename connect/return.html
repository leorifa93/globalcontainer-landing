<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stripe Connect - Rückkehr</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="../mobile-optimizations.css">
    <link rel="icon" type="image/png" sizes="64x64" href="../favicon-64x64.png">
    <link rel="icon" type="image/png" sizes="48x48" href="../favicon-48x48.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
    <link rel="apple-touch-icon" href="../apple-touch-icon.png">
    <meta name="theme-color" content="#A0522D">
</head>
<body>
    <div class="container">
        <div class="connect-return">
            <div class="success-icon">✅</div>
            <h1>Stripe Connect erfolgreich!</h1>
            <p>Dein Konto wurde erfolgreich mit Stripe verbunden.</p>
            <p>Du kannst jetzt Auszahlungen in der GlobalContainer App erhalten.</p>
            
            <div class="actions">
                <button class="btn btn-primary" onclick="openApp()">
                    🚛 Zur App zurückkehren
                </button>
                <button class="btn btn-secondary" onclick="goToLanding()">
                    🏠 Zur Startseite
                </button>
            </div>
        </div>
    </div>

    <script>
        function openApp() {
            // Versuche App zu öffnen
            const deepLink = "globalcontainerapp://connect/return?status=success";
            const appStoreLink = "https://apps.apple.com/app/globalcontainer";
            
            try {
                window.location.href = deepLink;
                
                // Fallback nach 3 Sekunden
                setTimeout(() => {
                    window.location.href = appStoreLink;
                }, 3000);
            } catch (error) {
                console.log('Deep link error:', error);
                window.location.href = appStoreLink;
            }
        }

        function goToLanding() {
            window.location.href = "https://globalcontainer-landing.vercel.app/";
        }

        // Automatisch zur App weiterleiten nach 5 Sekunden
        setTimeout(() => {
            openApp();
        }, 5000);
    </script>
</body>
</html>
